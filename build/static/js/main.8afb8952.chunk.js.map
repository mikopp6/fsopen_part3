{"version":3,"sources":["components/Display.js","services/persondata.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["Display","persons","searchFilter","removePerson","filteredList","filter","person","name","toLowerCase","includes","map","filtered","key","number","onClick","e","id","baseUrl","axios","get","newObject","post","put","delete","PersonForm","setPersons","newName","setNewName","newNumber","setNewNumber","handleNameInput","handleNumberInput","setSuccessMessage","setErrorMessage","onSubmit","event","preventDefault","personObject","find","x","window","confirm","personService","then","returnedPerson","data","setTimeout","catch","error","response","concat","value","onChange","type","Filter","handler","Notification","message","identifier","className","App","useState","setSearchFilter","errorMessage","successMessage","useEffect","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8afb8952.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Display = ({persons, searchFilter, removePerson}) => {\r\n  const filteredList = persons.filter(person => person.name.toLowerCase().includes(searchFilter.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      {filteredList.map((filtered) => <p key={filtered.name}> {filtered.name} {filtered.number}\r\n      {<button onClick={(e) => removePerson(filtered.name, filtered.id, e)}>delete</button>}</p>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Display","import axios from 'axios'\r\n\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\nimport personService from '../services/persondata'\r\n\r\nconst PersonForm = ({persons, setPersons, newName, setNewName, newNumber, setNewNumber, handleNameInput, handleNumberInput, setSuccessMessage, setErrorMessage}) => {\r\n  \r\n  const AddPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.find(x => x.name === newName)) {\r\n      if(window.confirm(`${newName} is already in the phonebook, replace the old number with a new one?`)){\r\n        const id = persons.find(x => x.name === newName).id\r\n\r\n        personService\r\n          .update(id, personObject)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson.data))\r\n            setSuccessMessage(`Updated '${newName}'`)\r\n            setTimeout(() => {\r\n              setSuccessMessage(null)\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage(error.response.data.error)\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n          })\r\n      }\r\n    } else { \r\n      personService\r\n        .create(personObject)\r\n        .then(response => {\r\n          setPersons(persons.concat(response.data))\r\n          setSuccessMessage(`Added '${newName}'`)\r\n          setTimeout(() => {\r\n            setSuccessMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          setErrorMessage(error.response.data.error)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  return(\r\n    <form onSubmit={AddPerson}>\r\n        <div>name: <input value={newName} onChange={handleNameInput}/></div>\r\n        <div>number: <input value={newNumber} onChange={handleNumberInput}/></div>\r\n        <button type=\"submit\">add</button> \r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({value, handler}) => {\r\n  return (\r\n    <div>Filter results containing: <input value={value} onChange={handler}/></div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ message, identifier }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    \r\n    if(identifier===0){\r\n      return (\r\n        <div className=\"error\">\r\n          {message}\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className=\"success\">\r\n          {message}\r\n        </div>\r\n      ) \r\n    }\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\r\nimport Display from './components/Display'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persondata'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ searchFilter, setSearchFilter ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n  const [ successMessage, setSuccessMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response.data)\r\n      })\r\n  }, [])  \r\n\r\n  const handleNameInput = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberInput = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterInput = (event) => {\r\n    setSearchFilter(event.target.value)\r\n  }\r\n\r\n  const removePerson = (name, id) => {\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(response => {\r\n          setPersons(persons.filter(person => person.id !== id))\r\n          setSuccessMessage(`Deleted '${name}'`)\r\n          setTimeout(() => {\r\n            setSuccessMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          setErrorMessage(`Unable to delete '${name}'`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n        <Notification message={errorMessage} identifier={0}/>\r\n        <Notification message={successMessage} identifier={1}/>\r\n        <Filter value={searchFilter} handler={handleFilterInput}/>\r\n      <h2>Add a new</h2>\r\n        <PersonForm persons={persons} setPersons={setPersons} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber}\r\n          handleNameInput={handleNameInput} handleNumberInput={handleNumberInput} setSuccessMessage={setSuccessMessage} setErrorMessage={setErrorMessage}/>\r\n      <h2>Numbers</h2>\r\n        <Display persons={persons} searchFilter={searchFilter} removePerson={removePerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}