(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),c=t.n(u),o=t(2),l=function(e){var n=e.persons,t=e.searchFilter,a=e.removePerson,u=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return r.a.createElement("div",null,u.map((function(e){return r.a.createElement("p",{key:e.name}," ",e.name," ",e.number,r.a.createElement("button",{onClick:function(n){return a(e.name,e.id,n)}},"delete"))})))},i=t(3),s=t.n(i),m="api/persons",f=function(){return s.a.get(m)},d=function(e){return s.a.post(m,e)},b=function(e,n){return s.a.put("".concat(m,"/").concat(e),n)},p=function(e){return s.a.delete("".concat(m,"/").concat(e))},h=function(e){var n=e.persons,t=e.setPersons,a=e.newName,u=e.setNewName,c=e.newNumber,o=e.setNewNumber,l=e.handleNameInput,i=e.handleNumberInput,s=e.setSuccessMessage,m=e.setErrorMessage;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r={name:a,number:c};if(n.find((function(e){return e.name===a}))){if(window.confirm("".concat(a," is already in the phonebook, replace the old number with a new one?"))){var l=n.find((function(e){return e.name===a})).id;b(l,r).then((function(e){t(n.map((function(n){return n.id!==l?n:e.data}))),s("Updated '".concat(a,"'")),setTimeout((function(){s(null)}),5e3)})).catch((function(e){m(e.response.data.error),setTimeout((function(){m(null)}),5e3)}))}}else d(r).then((function(e){t(n.concat(e.data)),s("Added '".concat(a,"'")),setTimeout((function(){s(null)}),5e3)})).catch((function(e){m(e.response.data.error),setTimeout((function(){m(null)}),5e3)}));u(""),o("")}},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:a,onChange:l})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:c,onChange:i})),r.a.createElement("button",{type:"submit"},"add"))},E=function(e){var n=e.value,t=e.handler;return r.a.createElement("div",null,"Filter results containing: ",r.a.createElement("input",{value:n,onChange:t}))},v=function(e){var n=e.message,t=e.identifier;return null===n?null:0===t?r.a.createElement("div",{className:"error"},n):r.a.createElement("div",{className:"success"},n)},w=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),i=Object(o.a)(c,2),s=i[0],m=i[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),w=b[0],N=b[1],g=Object(a.useState)(""),j=Object(o.a)(g,2),O=j[0],S=j[1],k=Object(a.useState)(null),C=Object(o.a)(k,2),T=C[0],I=C[1],P=Object(a.useState)(null),y=Object(o.a)(P,2),M=y[0],D=y[1];Object(a.useEffect)((function(){f().then((function(e){u(e.data)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(v,{message:T,identifier:0}),r.a.createElement(v,{message:M,identifier:1}),r.a.createElement(E,{value:O,handler:function(e){S(e.target.value)}}),r.a.createElement("h2",null,"Add a new"),r.a.createElement(h,{persons:t,setPersons:u,newName:s,setNewName:m,newNumber:w,setNewNumber:N,handleNameInput:function(e){m(e.target.value)},handleNumberInput:function(e){N(e.target.value)},setSuccessMessage:D,setErrorMessage:I}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(l,{persons:t,searchFilter:O,removePerson:function(e,n){window.confirm("Delete ".concat(e,"?"))&&p(n).then((function(a){u(t.filter((function(e){return e.id!==n}))),D("Deleted '".concat(e,"'")),setTimeout((function(){D(null)}),5e3)})).catch((function(n){I("Unable to delete '".concat(e,"'")),setTimeout((function(){I(null)}),5e3)}))}}))};t(36);c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.8afb8952.chunk.js.map